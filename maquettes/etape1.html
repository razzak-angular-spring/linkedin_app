<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
    />
    <title>SaaS Onboarding</title>

    <!-- Fonts: Inter -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>

    <!-- Tailwind Config for Custom Colors -->
    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              brand: {
                bg: "#F7F9FC",
                primary: "#1F3C88",
                primaryHover: "#162a60",
                secondary: "#4D96FF",
                text: "#2E2E2E",
                border: "#E2E8F0",
                accent: "#F0F5FF",
              },
            },
            fontFamily: {
              sans: ["Inter", "sans-serif"],
            },
            boxShadow: {
              subtle: "0 4px 20px -2px rgba(0, 0, 0, 0.05)",
              card: "0 2px 8px rgba(0, 0, 0, 0.04)",
            },
          },
        },
      };
    </script>

    <style>
      body {
        font-family: "Inter", sans-serif;
        color: #2e2e2e;
      }

      /* Smooth selection transition */
      .selection-card {
        transition: all 0.2s ease-in-out;
      }

      /* Custom scrollbar for content if needed */
      .custom-scroll::-webkit-scrollbar {
        width: 4px;
      }
      .custom-scroll::-webkit-scrollbar-track {
        background: #f1f1f1;
      }
      .custom-scroll::-webkit-scrollbar-thumb {
        background: #cbd5e1;
        border-radius: 4px;
      }
    </style>
  </head>
  <body
    class="min-h-screen flex items-center justify-center bg-white sm:bg-brand-bg sm:p-4"
  >
    <!-- 
        Main Card Container
        Maintains the responsive "card on desktop, full on mobile" logic
    -->
    <div
      class="w-full h-full sm:h-auto sm:max-w-[480px] bg-white sm:rounded-lg sm:shadow-subtle sm:border sm:border-gray-100 relative flex flex-col"
    >
      <!-- Progress Bar (Fixed at top) -->
      <div class="px-6 pt-6 sm:px-10 sm:pt-8">
        <div
          class="flex justify-between text-xs font-medium text-gray-400 mb-2 uppercase tracking-wide"
        >
          <span>Step 1 of 3</span>
          <span>33%</span>
        </div>
        <div class="w-full bg-gray-100 h-1.5 rounded-full overflow-hidden">
          <div
            class="bg-brand-primary h-full w-1/3 rounded-full transition-all duration-500 ease-out"
          ></div>
        </div>
      </div>

      <!-- Content Area -->
      <div class="p-6 sm:p-10 flex-1 flex flex-col">
        <!-- Header -->
        <div class="mb-8 text-center sm:text-left">
          <h1 class="text-2xl font-bold text-brand-text mb-2">
            How will you use the app?
          </h1>
          <p class="text-gray-500 text-sm">
            Select your primary role to help us customize your workspace
            experience.
          </p>
        </div>

        <!-- Selection Options -->
        <div class="space-y-3 mb-8" id="optionsContainer">
          <!-- Option 1 -->
          <button
            onclick="selectOption(this, 'freelancer')"
            class="selection-card w-full group relative flex items-center p-4 border-2 border-gray-100 rounded-lg hover:border-brand-primary/30 hover:bg-brand-accent/30 bg-white text-left focus:outline-none focus:ring-2 focus:ring-brand-primary/20"
          >
            <div
              class="flex-shrink-0 h-12 w-12 rounded-full bg-blue-50 text-brand-primary flex items-center justify-center mr-4 group-hover:bg-brand-primary group-hover:text-white transition-colors"
            >
              <i data-lucide="briefcase" class="h-6 w-6"></i>
            </div>
            <div class="flex-1">
              <h3 class="font-semibold text-brand-text text-sm">Freelancer</h3>
              <p class="text-xs text-gray-500 mt-0.5">
                I work solo and manage my own projects.
              </p>
            </div>
            <div
              class="absolute right-4 top-1/2 transform -translate-y-1/2 opacity-0 check-icon transition-opacity text-brand-primary"
            >
              <i
                data-lucide="check-circle-2"
                class="h-6 w-6 fill-brand-primary text-white"
              ></i>
            </div>
          </button>

          <!-- Option 2 -->
          <button
            onclick="selectOption(this, 'team_lead')"
            class="selection-card w-full group relative flex items-center p-4 border-2 border-gray-100 rounded-lg hover:border-brand-primary/30 hover:bg-brand-accent/30 bg-white text-left focus:outline-none focus:ring-2 focus:ring-brand-primary/20"
          >
            <div
              class="flex-shrink-0 h-12 w-12 rounded-full bg-indigo-50 text-indigo-600 flex items-center justify-center mr-4 group-hover:bg-indigo-600 group-hover:text-white transition-colors"
            >
              <i data-lucide="users" class="h-6 w-6"></i>
            </div>
            <div class="flex-1">
              <h3 class="font-semibold text-brand-text text-sm">Team Lead</h3>
              <p class="text-xs text-gray-500 mt-0.5">
                I manage a team and assign tasks.
              </p>
            </div>
            <div
              class="absolute right-4 top-1/2 transform -translate-y-1/2 opacity-0 check-icon transition-opacity text-brand-primary"
            >
              <i
                data-lucide="check-circle-2"
                class="h-6 w-6 fill-brand-primary text-white"
              ></i>
            </div>
          </button>

          <!-- Option 3 -->
          <button
            onclick="selectOption(this, 'business_owner')"
            class="selection-card w-full group relative flex items-center p-4 border-2 border-gray-100 rounded-lg hover:border-brand-primary/30 hover:bg-brand-accent/30 bg-white text-left focus:outline-none focus:ring-2 focus:ring-brand-primary/20"
          >
            <div
              class="flex-shrink-0 h-12 w-12 rounded-full bg-teal-50 text-teal-600 flex items-center justify-center mr-4 group-hover:bg-teal-600 group-hover:text-white transition-colors"
            >
              <i data-lucide="building-2" class="h-6 w-6"></i>
            </div>
            <div class="flex-1">
              <h3 class="font-semibold text-brand-text text-sm">
                Business Owner
              </h3>
              <p class="text-xs text-gray-500 mt-0.5">
                I need high-level oversight and reporting.
              </p>
            </div>
            <div
              class="absolute right-4 top-1/2 transform -translate-y-1/2 opacity-0 check-icon transition-opacity text-brand-primary"
            >
              <i
                data-lucide="check-circle-2"
                class="h-6 w-6 fill-brand-primary text-white"
              ></i>
            </div>
          </button>
        </div>

        <!-- Spacer -->
        <div class="flex-grow"></div>

        <!-- Navigation Actions -->
        <div class="mt-4 flex flex-col gap-3">
          <button
            id="continueBtn"
            onclick="handleContinue()"
            class="w-full flex justify-center py-3.5 px-4 border border-transparent rounded-xl shadow-sm text-sm font-semibold text-white bg-brand-primary hover:bg-brand-primaryHover focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-brand-primary transition-all disabled:opacity-50 disabled:cursor-not-allowed"
            disabled
          >
            Continue
          </button>
          <button
            class="w-full text-center py-2 text-xs font-medium text-gray-400 hover:text-gray-600 transition-colors"
          >
            Skip for now
          </button>
        </div>
      </div>
    </div>

    <!-- Notification Toast -->
    <div
      id="toast"
      class="fixed top-4 sm:top-auto sm:bottom-4 right-4 left-4 sm:left-auto transform -translate-y-20 sm:translate-y-20 opacity-0 transition-all duration-300 bg-gray-800 text-white px-4 py-3 rounded-lg shadow-lg flex items-center gap-3 z-50"
    >
      <i data-lucide="loader-2" class="h-5 w-5 animate-spin"></i>
      <span id="toastMessage">Setting up workspace...</span>
    </div>

    <script>
      // Initialize Icons
      lucide.createIcons();

      let selectedRole = null;
      const continueBtn = document.getElementById("continueBtn");

      function selectOption(element, role) {
        // Remove active state from all options
        const allOptions = document.querySelectorAll(".selection-card");
        allOptions.forEach((opt) => {
          // Reset styles
          opt.classList.remove(
            "border-brand-primary",
            "bg-brand-accent/20",
            "ring-1",
            "ring-brand-primary"
          );
          opt.classList.add("border-gray-100", "bg-white");

          // Reset Icon Container styles
          const iconContainer = opt.querySelector("div:first-child");
          // We rely on group-hover for the icon colors usually, but when selected we want them persistent
          // For simplicity in this demo, we keep the hover effect logic or simple class toggle

          // Hide Check Icon
          const checkIcon = opt.querySelector(".check-icon");
          checkIcon.classList.add("opacity-0");
        });

        // Add active state to clicked option
        element.classList.remove("border-gray-100", "bg-white");
        element.classList.add(
          "border-brand-primary",
          "bg-brand-accent/20",
          "ring-1",
          "ring-brand-primary"
        );

        // Show Check Icon
        const checkIcon = element.querySelector(".check-icon");
        checkIcon.classList.remove("opacity-0");

        selectedRole = role;

        // Enable Continue Button
        continueBtn.disabled = false;
        continueBtn.classList.remove("opacity-50", "cursor-not-allowed");
      }

      function handleContinue() {
        if (!selectedRole) return;

        // Show loading state
        const toast = document.getElementById("toast");
        toast.classList.remove(
          "-translate-y-20",
          "sm:translate-y-20",
          "opacity-0"
        );

        // Simulate progression
        continueBtn.innerHTML =
          '<span class="animate-spin inline-block mr-2 border-2 border-white border-t-transparent rounded-full w-4 h-4"></span> Processing...';

        setTimeout(() => {
          // Here you would redirect to the next step
          continueBtn.innerHTML = "Done";
          toast.classList.add(
            "-translate-y-20",
            "sm:translate-y-20",
            "opacity-0"
          );
        }, 1500);
      }
    </script>
  </body>
</html>
